<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The AGENTS.md / CLAUDE.md Guide | AI Best Practices Knowledge Base</title>
  <meta name="description" content="A practical template and maintenance guide for the files that give AI agents persistent memory.">
  <meta name="color-scheme" content="light dark">

  
  <meta property="og:title" content="The AGENTS.md / CLAUDE.md Guide">
  <meta property="og:description" content="A practical template and maintenance guide for the files that give AI agents persistent memory.">
  <meta property="og:type" content="article">

  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  
  <link rel="stylesheet" href="../css/style.css">

  
  <link rel="icon" href="../favicon.svg" type="image/svg+xml">
</head>
<body class="section-references"><header class="site-header">
  <nav class="nav-container">
    <a class="nav-logo" href="../index.html">
      <svg class="nav-logo-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
        <circle cx="12" cy="8" r="2" fill="currentColor"/>
        <circle cx="7" cy="15" r="2" fill="currentColor"/>
        <circle cx="17" cy="15" r="2" fill="currentColor"/>
        <line x1="12" y1="10" x2="7" y2="13" stroke="currentColor" stroke-width="1.5"/>
        <line x1="12" y1="10" x2="17" y2="13" stroke="currentColor" stroke-width="1.5"/>
        <line x1="7" y1="15" x2="17" y2="15" stroke="currentColor" stroke-width="1.5"/>
      </svg>
      <span>AI Best Practices</span>
    </a>
    <div class="nav-links">
      <a class="nav-link" data-section="guides" href="../guides/index.html">Guides</a>
      <a class="nav-link" data-section="patterns" href="../patterns/index.html">Patterns</a>
      <a class="nav-link" data-section="deep-dives" href="../deep-dives/index.html">Deep Dives</a>
      <a class="nav-link" data-section="references" href="../references/index.html">References</a>
      <a class="nav-link" data-section="tags" href="../tags/index.html">Tags</a>
    </div>
    <div class="nav-actions">
      <button class="dark-mode-toggle" aria-label="Toggle dark mode" type="button">
        <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
      <button class="nav-toggle" aria-label="Toggle menu" type="button">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<main>
<div class="page-container">
  
<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol>
    <li><a href="../index.html">Home</a></li>
    
      
    
      
        <li><a href="../references/index.html">References</a></li>
      
    
    <li aria-current="page">The AGENTS.md / CLAUDE.md Guide</li>
  </ol>
</nav>



  <div class="article-layout has-toc">
    <article class="article">
      <header class="article-header">
        <h1 class="article-title">The AGENTS.md / CLAUDE.md Guide</h1>
        <div class="meta-bar">
  
  <time class="meta-date" datetime="2026-02-05">
    February 5, 2026
  </time>
  

  

  <span class="meta-reading-time">4 min read</span>

  <div class="meta-links">
    
    
    
  </div>

  
  
</div>

        
<div class="tag-pills">
  
  
  
  <a href="../tags/harness-engineering.html" class="tag-pill">harness-engineering</a>
  
  
  
  
  <a href="../tags/agents-md.html" class="tag-pill">agents-md</a>
  
  
  
  
  <a href="../tags/practical-guide.html" class="tag-pill">practical-guide</a>
  
  
</div>


      </header>

      <div class="article-content">
        <h2 id="what-these-files-are">What These Files Are</h2>
<p>AGENTS.md and CLAUDE.md are project-root files that AI coding agents read at the start of every session. They give agents persistent, project-specific context that would otherwise be lost between conversations. Different tools use different filenames &ndash; Claude Code reads CLAUDE.md, Amp reads AGENTS.md, and most tools now support both &ndash; but the purpose is identical: tell the agent how to work in this codebase.</p>
<h2 id="why-they-matter-the-compounding-effect">Why They Matter: The Compounding Effect</h2>
<p>Every time you correct an agent&rsquo;s mistake, you face a choice: fix it once and move on, or document the correction so it never happens again. The AGENTS.md file is where those corrections accumulate.</p>
<p>Mitchell Hashimoto describes this as the core of &ldquo;harness engineering&rdquo; &ndash; building infrastructure that makes agents more effective over time. Nicholas Carlini&rsquo;s parallel compiler project took this further: agents maintained their own documentation files, updating progress notes and recording failed approaches so that fresh agent sessions could pick up where previous ones left off.</p>
<p>The compounding math is straightforward. Session one: the agent makes ten types of mistakes. You document three. Session two: seven types of mistakes. You document two more. By session ten, the agent avoids most known pitfalls and you are only dealing with genuinely novel problems. The file gets more valuable with every entry.</p>
<h2 id="practical-template">Practical Template</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span># Project: [name]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Brief description of what this codebase does and its primary language/framework.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Build &amp; Test
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>```bash
</span></span><span style="display:flex;"><span># Build
</span></span><span style="display:flex;"><span>make build
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Run all tests
</span></span><span style="display:flex;"><span>make test
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Run a single test file
</span></span><span style="display:flex;"><span>pytest tests/test_specific.py -v
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Lint
</span></span><span style="display:flex;"><span>make lint
</span></span></code></pre></div><h2 id="architecture-constraints">Architecture Constraints</h2>
<ul>
<li>Module <code>api/</code> never imports from <code>cli/</code>. Data flows through <code>core/</code>.</li>
<li>All database access goes through <code>db/repository.py</code>. No raw SQL elsewhere.</li>
<li>Frontend components in <code>components/</code> must not import from <code>pages/</code>.</li>
</ul>
<h2 id="coding-conventions">Coding Conventions</h2>
<ul>
<li>Error handling: use Result types, not exceptions, in the core module.</li>
<li>Naming: snake_case for functions, PascalCase for classes. No abbreviations.</li>
<li>Imports: standard library first, third-party second, local third. Sorted.</li>
</ul>
<h2 id="known-mistakes">Known Mistakes</h2>
<ul>
<li>When modifying the parser, always run <code>make test-parser</code> first. The full
test suite takes 10 minutes; the parser subset takes 30 seconds.</li>
<li>The <code>config.yaml</code> loader silently ignores unknown keys. If you add a new
config field, you must also update the schema validator in <code>config/schema.py</code>.</li>
<li>Do NOT use <code>datetime.now()</code> anywhere. Use <code>clock.now()</code> from <code>utils/clock.py</code>
so tests can control time.</li>
</ul>
<h2 id="testing-requirements">Testing Requirements</h2>
<ul>
<li>Every new public function needs a test. No exceptions.</li>
<li>Integration tests that hit the database must use the <code>db_session</code> fixture.</li>
<li>Snapshot tests: run <code>pytest --snapshot-update</code> only when you intentionally
change output format.</li>
</ul>
<h2 id="never-do-this">Never Do This</h2>
<ul>
<li>Never commit directly to <code>main</code>. Always use a feature branch.</li>
<li>Never disable type checking with <code># type: ignore</code> without a comment explaining why.</li>
<li>Never use <code>subprocess.shell=True</code>. Use the <code>run_command()</code> wrapper instead.</li>
</ul>
<pre tabindex="0"><code>
Adapt the sections to your project. Start sparse and add entries as you encounter real issues -- do not try to document everything upfront.

## Maintenance Discipline

**When to add entries.** Immediately after correcting an agent mistake. If you find yourself typing the same correction twice, it belongs in the file. The best entries follow the pattern: &#34;When doing X, always Y, because Z.&#34; The &#34;because&#34; clause helps the agent generalize rather than memorize.

**When to remove entries.** Review the file weekly. Remove rules that are no longer relevant -- deprecated APIs, fixed bugs, refactored modules. A stale file teaches the agent outdated habits, which is worse than no file at all.

**When to reorganize.** If the file exceeds roughly 200 lines, split it. Some tools support directory-level files (e.g., `src/api/CLAUDE.md` for API-specific rules). Use this to keep each file focused and relevant to the code nearby.

## Anti-Patterns

**Over-documenting before you have data.** Do not spend an hour writing rules before your first agent session. Run the session, see what goes wrong, then document. Premature rules tend to be either too vague to help or wrong about what actually matters.

**Duplicating what the code already says.** If your linter enforces a rule, you do not need to repeat it in AGENTS.md. Focus on things the agent cannot learn from the code or tooling alone: architectural intent, non-obvious constraints, historical context.

**Writing rules without verification commands.** A rule like &#34;always ensure tests pass&#34; is useless without the command to run them. Every constraint should include the command or check the agent can use to verify compliance.

For the conceptual foundations behind harness engineering, see the [Harness Engineering pattern](/patterns/harness-engineering.html).
</code></pre>
      </div>

      
      <div class="article-sources">
        <h3>Sources</h3>
        <ul>
          <li><a href="https://mitchellh.com/writing/my-ai-adoption-journey">https://mitchellh.com/writing/my-ai-adoption-journey</a></li><li><a href="https://www.anthropic.com/engineering/building-c-compiler">https://www.anthropic.com/engineering/building-c-compiler</a></li>
        </ul>
      </div>
      

      <nav class="article-nav">
        
        
        <a href="../references/tool-landscape.html" class="article-nav-link article-nav-link--next">
          <span class="article-nav-direction">Next</span>
          <span class="article-nav-title">AI Coding Tools: A Practitioner&#39;s Comparison</span>
        </a>
        
      </nav>
    </article>

    
<aside class="toc-sidebar" aria-label="Table of Contents">
  <div class="toc-container">
    <h2 class="toc-title">On this page</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#what-these-files-are">What These Files Are</a></li>
    <li><a href="#why-they-matter-the-compounding-effect">Why They Matter: The Compounding Effect</a></li>
    <li><a href="#practical-template">Practical Template</a></li>
    <li><a href="#architecture-constraints">Architecture Constraints</a></li>
    <li><a href="#coding-conventions">Coding Conventions</a></li>
    <li><a href="#known-mistakes">Known Mistakes</a></li>
    <li><a href="#testing-requirements">Testing Requirements</a></li>
    <li><a href="#never-do-this">Never Do This</a></li>
  </ul>
</nav>
  </div>
</aside>


  </div>
</div>

    </main><footer class="site-footer">
  <div class="footer-container">
    <div class="footer-brand">
      <span class="footer-logo">AI Best Practices</span>
      <p class="footer-description">What the best practitioners know about AI-assisted software development.</p>
    </div>
    <div class="footer-nav">
      <div class="footer-section">
        <h3>Content</h3>
        <ul>
          <li><a href="../guides/index.html">Guides</a></li>
          <li><a href="../deep-dives/index.html">Deep Dives</a></li>
          <li><a href="../tags/index.html">Topics</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Resources</h3>
        <ul>
          <li><a href="../patterns/index.html">Patterns</a></li>
          <li><a href="../references/index.html">References</a></li>
          <li><a href="../synthesis/index.html">Synthesis</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Built with Hugo. Content sourced from practitioner experience.</p>
    </div>
  </div>
</footer>
<script src="../js/main.js" defer></script>
  </body>
</html>
